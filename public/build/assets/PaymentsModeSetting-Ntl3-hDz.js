import{a9 as b,u as S,v as D,N as C,O as k,G as I,a7 as x,r as m,K as v,o as p,w as a,a as t,q as w,t as M,l as $,e as N,j as z,c as j,Q as T,M as E}from"./main-DnObvGgc.js";import{u as P}from"./payment-COlo_rP3.js";import{_ as F}from"./PaymentModeModal-D3kVILmt.js";const O={__name:"PaymentModeIndexDropdown",props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:null}},setup(u){const d=u,y=b();S();const{t:s}=D.useI18n(),n=P(),_=C();k();const f=I();x("utils");function g(e){n.fetchPaymentMode(e),f.openModal({title:s("settings.payment_modes.edit_payment_mode"),componentName:"PaymentModeModal",refreshData:d.loadData&&d.loadData,size:"sm"})}function B(e){y.openDialog({title:s("general.are_you_sure"),message:s("settings.payment_modes.payment_mode_confirm_delete"),yesLabel:s("general.ok"),noLabel:s("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async l=>{l&&(await n.deletePaymentMode(e),d.loadData&&d.loadData())})}return(e,l)=>{const o=m("BaseIcon"),i=m("BaseButton"),r=m("BaseDropdownItem"),h=m("BaseDropdown");return p(),v(h,null,{activator:a(()=>[$(_).name==="paymentModes.view"?(p(),v(i,{key:0,variant:"primary"},{default:a(()=>[t(o,{name:"EllipsisHorizontalIcon",class:"h-5 text-white"})]),_:1})):(p(),v(o,{key:1,name:"EllipsisHorizontalIcon",class:"h-5 text-gray-500"}))]),default:a(()=>[t(r,{onClick:l[0]||(l[0]=c=>g(u.row.id))},{default:a(()=>[t(o,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),w(" "+M(e.$t("general.edit")),1)]),_:1}),t(r,{onClick:l[1]||(l[1]=c=>B(u.row.id))},{default:a(()=>[t(o,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),w(" "+M(e.$t("general.delete")),1)]),_:1})]),_:1})}}},q={__name:"PaymentsModeSetting",setup(u){const d=I();b();const y=P(),{t:s}=D.useI18n(),n=N(null),_=z(()=>[{key:"name",label:s("settings.payment_modes.mode_name"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"actions",label:"",tdClass:"text-right text-sm font-medium",sortable:!1}]);async function f(){n.value&&n.value.refresh()}async function g({page:e,filter:l,sort:o}){let i={orderByField:o.fieldName||"created_at",orderBy:o.order||"desc",page:e},r=await y.fetchPaymentModes(i);return{data:r.data.data,pagination:{totalPages:r.data.meta.last_page,currentPage:e,totalCount:r.data.meta.total,limit:5}}}function B(){d.openModal({title:s("settings.payment_modes.add_payment_mode"),componentName:"PaymentModeModal",refreshData:n.value&&n.value.refresh,size:"sm"})}return(e,l)=>{const o=m("BaseIcon"),i=m("BaseButton"),r=m("BaseTable"),h=m("BaseSettingCard");return p(),j(T,null,[t(F),t(h,{title:e.$t("settings.payment_modes.title"),description:e.$t("settings.payment_modes.description")},{action:a(()=>[t(i,{type:"submit",variant:"primary-outline",onClick:B},{left:a(c=>[t(o,{class:E(c.class),name:"PlusIcon"},null,8,["class"])]),default:a(()=>[w(" "+M(e.$t("settings.payment_modes.add_payment_mode")),1)]),_:1})]),default:a(()=>[t(r,{ref_key:"table",ref:n,data:g,columns:_.value,class:"mt-16"},{"cell-actions":a(({row:c})=>[t(O,{row:c.data,table:n.value,"load-data":f},null,8,["row","table"])]),_:1},8,["columns"])]),_:1},8,["title","description"])],64)}}};export{q as default};
