import{u as Y}from"./auth-C46PzZ_n.js";import{ba as L,j as k,k as V,ac as H,e as w,ao as Z,bb as ee,bc as $,bd as A,be as B,bf as q,bg as te,bh as U,bi as R,bj as T,bk as se,bl as K,a7 as z,v as ae,N as Q,n as oe,P as re,r as P,K as D,o as v,w as f,b as a,a as d,l as u,c as C,_ as le,Q as j,R as E,M as N,q as I,t as x,bm as ne,bn as ue,bo as ie,bp as ce,bq as de,br as pe,L as fe}from"./main-DnObvGgc.js";import{u as F}from"./global-CGJZ3VSg.js";import{N as me}from"./NotificationRoot-DUeuvsTz.js";var ve=(s=>(s[s.Open=0]="Open",s[s.Closed=1]="Closed",s))(ve||{});let G=Symbol("DisclosureContext");function M(s){let c=z(G,null);if(c===null){let p=new Error(`<${s} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(p,M),p}return c}let X=Symbol("DisclosurePanelContext");function ge(){return z(X,null)}let be=L({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(s,{slots:c,attrs:p}){let t=w(s.defaultOpen?0:1),e=w(null),g=w(null),r={buttonId:w(`headlessui-disclosure-button-${T()}`),panelId:w(`headlessui-disclosure-panel-${T()}`),disclosureState:t,panel:e,button:g,toggleDisclosure(){t.value=K(t.value,{0:1,1:0})},closeDisclosure(){t.value!==1&&(t.value=1)},close(o){r.closeDisclosure();let m=o?o instanceof HTMLElement?o:o.value instanceof HTMLElement?$(o):$(r.button):$(r.button);m==null||m.focus()}};return q(G,r),se(k(()=>K(t.value,{0:U.Open,1:U.Closed}))),()=>{let{defaultOpen:o,...m}=s,b={open:t.value===0,close:r.close};return A({theirProps:m,ourProps:{},slot:b,slots:c,attrs:p,name:"Disclosure"})}}}),ye=L({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(s,{attrs:c,slots:p,expose:t}){let e=M("DisclosureButton"),g=ge(),r=k(()=>g===null?!1:g.value===e.panelId.value);V(()=>{r.value||s.id!==null&&(e.buttonId.value=s.id)}),H(()=>{r.value||(e.buttonId.value=null)});let o=w(null);t({el:o,$el:o}),r.value||Z(()=>{e.button.value=o.value});let m=ee(k(()=>({as:s.as,type:c.type})),o);function b(){var l;s.disabled||(r.value?(e.toggleDisclosure(),(l=$(e.button))==null||l.focus()):e.toggleDisclosure())}function h(l){var n;if(!s.disabled)if(r.value)switch(l.key){case B.Space:case B.Enter:l.preventDefault(),l.stopPropagation(),e.toggleDisclosure(),(n=$(e.button))==null||n.focus();break}else switch(l.key){case B.Space:case B.Enter:l.preventDefault(),l.stopPropagation(),e.toggleDisclosure();break}}function _(l){switch(l.key){case B.Space:l.preventDefault();break}}return()=>{var l;let n={open:e.disclosureState.value===0},{id:y,...S}=s,O=r.value?{ref:o,type:m.value,onClick:b,onKeydown:h}:{id:(l=e.buttonId.value)!=null?l:y,ref:o,type:m.value,"aria-expanded":e.disclosureState.value===0,"aria-controls":e.disclosureState.value===0||$(e.panel)?e.panelId.value:void 0,disabled:s.disabled?!0:void 0,onClick:b,onKeydown:h,onKeyup:_};return A({ourProps:O,theirProps:S,slot:n,attrs:c,slots:p,name:"DisclosureButton"})}}}),he=L({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(s,{attrs:c,slots:p,expose:t}){let e=M("DisclosurePanel");V(()=>{s.id!==null&&(e.panelId.value=s.id)}),H(()=>{e.panelId.value=null}),t({el:e.panel,$el:e.panel}),q(X,e.panelId);let g=te(),r=k(()=>g!==null?(g.value&U.Open)===U.Open:e.disclosureState.value===0);return()=>{var o;let m={open:e.disclosureState.value===0,close:e.close},{id:b,...h}=s,_={id:(o=e.panelId.value)!=null?o:b,ref:e.panel};return A({ourProps:_,theirProps:h,slot:m,attrs:c,slots:p,features:R.RenderStrategy|R.Static,visible:r.value,name:"DisclosurePanel"})}}});const _e={class:"mx-auto px-8"},xe={class:"flex justify-between h-16 w-full"},we={class:"flex"},ke={class:"shrink-0 flex items-center"},Se=["href"],De=["src"],$e={class:"hidden sm:-my-px sm:ml-6 sm:flex sm:space-x-8"},Be={class:"hidden sm:ml-6 sm:flex sm:items-center"},Ie=["src"],Ce={class:"-mr-2 flex items-center sm:hidden"},Oe={class:"pt-2 pb-3 space-y-1"},Pe={class:"pt-4 pb-3 border-t border-gray-200"},Ue={class:"flex items-center px-4"},je={class:"shrink-0"},Ee=["src"],Ne={class:"ml-3"},Le={class:"text-base font-medium text-gray-800"},Ae={class:"text-sm font-medium text-gray-500"},Me={class:"mt-3 space-y-1"},Re={__name:"TheSiteHeader",setup(s){const{t:c}=ae.useI18n(),p=Q(),t=F(),e=[{title:c("navigation.logout"),link:`/${t.companySlug}/customer/login`}],g=Y(),r=oe(),o=w(""),m=k(()=>t.currentUser&&t.currentUser.avatar!==0?t.currentUser.avatar:b());function b(){return new URL("/build/assets/default-avatar-DiPf6Xay.jpg",import.meta.url)}re(p,n=>{o.value=n.path},{immediate:!0});const h=k(()=>window.customer_logo?window.customer_logo:!1);function _(n){return p.path.indexOf(n)>-1}function l(){g.logout(t.companySlug).then(n=>{n&&r.push({name:"customer.login"})})}return(n,y)=>{const S=P("router-link"),O=P("BaseDropdownItem"),J=P("BaseDropdown");return v(),D(u(be),{as:"nav",class:"bg-white shadow-sm fixed top-0 left-0 z-20 w-full"},{default:f(({open:W})=>[a("div",_e,[a("div",xe,[a("div",we,[a("div",ke,[a("a",{href:`/${u(t).companySlug}/customer/dashboard`,class:"float-none text-lg not-italic font-black tracking-wider text-white brand-main md:float-left font-base"},[h.value?(v(),C("img",{key:1,src:h.value,class:"h-6"},null,8,De)):(v(),D(le,{key:0,class:"h-6"}))],8,Se)]),a("div",$e,[(v(!0),C(j,null,E(u(t).mainMenu,i=>(v(),D(S,{key:i.title,to:`/${u(t).companySlug}${i.link}`,class:N([_(i.link)?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"])},{default:f(()=>[I(x(n.$t(i.title)),1)]),_:2},1032,["to","class"]))),128))])]),a("div",Be,[y[0]||(y[0]=a("button",{type:"button",class:"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},null,-1)),d(u(ne),{as:"div",class:"ml-3 relative"},{default:f(()=>[d(J,{"width-class":"w-48"},{activator:f(()=>[d(u(ce),{class:"bg-white flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:f(()=>[a("img",{class:"h-8 w-8 rounded-full",src:m.value,alt:""},null,8,Ie)]),_:1})]),default:f(()=>[d(S,{to:{name:"customer.profile"}},{default:f(()=>[d(O,null,{default:f(()=>[d(u(ue),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),I(" "+x(n.$t("navigation.settings")),1)]),_:1})]),_:1}),d(O,{onClick:l},{default:f(()=>[d(u(ie),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),I(" "+x(n.$t("navigation.logout")),1)]),_:1})]),_:1})]),_:1})]),a("div",Ce,[d(u(ye),{class:"bg-white inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:f(()=>[y[1]||(y[1]=a("span",{class:"sr-only"},"Open main menu",-1)),W?(v(),D(u(pe),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):(v(),D(u(de),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)])])]),d(u(he),{class:"sm:hidden"},{default:f(()=>[a("div",Oe,[(v(!0),C(j,null,E(u(t).mainMenu,i=>(v(),D(S,{key:i.title,to:`/${u(t).companySlug}${i.link}`,class:N([_(i.link)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),"aria-current":i.current?"page":void 0},{default:f(()=>[I(x(n.$t(i.title)),1)]),_:2},1032,["to","class","aria-current"]))),128))]),a("div",Pe,[a("div",Ue,[a("div",je,[a("img",{class:"h-10 w-10 rounded-full",src:m.value,alt:""},null,8,Ee)]),a("div",Ne,[a("div",Le,x(u(t).currentUser.title),1),a("div",Ae,x(u(t).currentUser.email),1)]),y[2]||(y[2]=a("button",{type:"button",class:"ml-auto bg-white shrink-0 p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},null,-1))]),a("div",Me,[(v(),C(j,null,E(e,i=>d(S,{key:i.title,to:i.link,class:N([_(i.link)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"])},{default:f(()=>[I(x(n.$t(i.title)),1)]),_:2},1032,["to","class"])),64))])])]),_:1})]),_:1})}}},Te={key:0,class:"h-full"},Ke={class:"mt-16 pb-16 h-screen overflow-y-auto min-h-0"},Qe={__name:"LayoutBasic",setup(s){const c=F(),p=Q(),t=k(()=>c.isAppLoaded);e();async function e(){await c.bootstrap(p.params.company)}return(g,r)=>{const o=P("router-view");return t.value?(v(),C("div",Te,[d(me),d(Re),a("main",Ke,[d(o)])])):fe("",!0)}}};export{Qe as default};
