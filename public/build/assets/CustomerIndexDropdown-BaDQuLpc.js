import{aa as k,u as x,a9 as C,O as S,v as b,N as T,n as N,a7 as O,r as l,K as a,o as s,w as t,L as g,l as e,V as p,a as n,q as _,t as w}from"./main-DnObvGgc.js";const R={__name:"CustomerIndexDropdown",props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:()=>{}}},setup(i){const y=i,f=k();x();const D=C(),m=S(),{t:u}=b.useI18n(),h=T();N(),O("utils");function I(r){D.openDialog({title:u("general.are_you_sure"),message:u("customers.confirm_delete",1),yesLabel:u("general.ok"),noLabel:u("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(c=>{c&&f.deleteCustomer({ids:[r]}).then(o=>{if(o.data.success)return y.loadData&&y.loadData(),!0})})}return(r,c)=>{const o=l("BaseIcon"),B=l("BaseButton"),d=l("BaseDropdownItem"),v=l("router-link"),E=l("BaseDropdown");return s(),a(E,{"content-loading":e(f).isFetchingViewData},{activator:t(()=>[e(h).name==="customers.view"?(s(),a(B,{key:0,variant:"primary"},{default:t(()=>[n(o,{name:"EllipsisHorizontalIcon",class:"h-5 text-white"})]),_:1})):(s(),a(o,{key:1,name:"EllipsisHorizontalIcon",class:"h-5 text-gray-500"}))]),default:t(()=>[e(m).hasAbilities(e(p).EDIT_CUSTOMER)?(s(),a(v,{key:0,to:`/admin/customers/${i.row.id}/edit`},{default:t(()=>[n(d,null,{default:t(()=>[n(o,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),_(" "+w(r.$t("general.edit")),1)]),_:1})]),_:1},8,["to"])):g("",!0),e(h).name!=="customers.view"&&e(m).hasAbilities(e(p).VIEW_CUSTOMER)?(s(),a(v,{key:1,to:`customers/${i.row.id}/view`},{default:t(()=>[n(d,null,{default:t(()=>[n(o,{name:"EyeIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),_(" "+w(r.$t("general.view")),1)]),_:1})]),_:1},8,["to"])):g("",!0),e(m).hasAbilities(e(p).DELETE_CUSTOMER)?(s(),a(d,{key:2,onClick:c[0]||(c[0]=V=>I(i.row.id))},{default:t(()=>[n(o,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),_(" "+w(r.$t("general.delete")),1)]),_:1})):g("",!0)]),_:1},8,["content-loading"])}}};export{R as _};
